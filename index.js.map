{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Pixabay API anahtarını tanımla\nconst API_KEY = '46197993-0238acfcd6230053ff5f60fb7';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// DOM içeriği yüklendikten sonra çalışacak fonksiyonu tanımla\ndocument.addEventListener('DOMContentLoaded', () => {\n    const form = document.getElementById('search-form');\n    const input = document.querySelector('.search-input');\n    const gallery = document.querySelector('.gallery'); // Galeri alanını seçin\n    const loader = document.querySelector('.loader'); // Yükleme göstergesini seç\n\n    // Sayfa yüklendiğinde loader'ı gizle\n    loader.style.display = 'none';\n\n    // Galeriyi temizleme fonksiyonu\n    function refreshGallery() {\n        gallery.innerHTML = \"\";\n    }\n\n    // Form gönderildiğinde çalışacak olay dinleyicisi\n    form.addEventListener('submit', (e) => {\n        e.preventDefault(); // Formun varsayılan davranışını engelle\n\n        const query = input.value.trim(); // Kullanıcıdan arama terimini al\n        if (!query) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please enter a search query.',\n            });\n            return; // Eğer arama terimi yoksa çık\n        }\n\n        // Önce galeriyi temizle\n        refreshGallery();\n\n        // Loader'ı göstermeden önce küçük bir gecikme ekleyerek API çağrısı sırasında görünmesini sağla\n        setTimeout(async () => {\n            try {\n                // Yükleme göstergesini API isteği başlamadan hemen önce göster\n                loader.style.display = 'block';\n\n                const response = await fetch(`${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`);\n                const data = await response.json(); // Yanıtı JSON formatında al\n\n                // Yükleme göstergesini gizle\n                loader.style.display = 'none';\n\n                if (data.hits.length === 0) {\n                    iziToast.info({\n                        title: 'Info',\n                        message: 'Sorry, there are no images matching your search query. Please try again!',\n                    });\n                    return; // Eğer sonuç yoksa çık\n                }\n\n                // Arama inputunu temizle\n                input.value = '';\n\n                // Görselleri ekle\n                data.hits.forEach(hit => {\n                    const item = document.createElement('div');\n                    item.classList.add('gallery-item');\n\n                    const link = document.createElement('a');\n                    link.href = hit.largeImageURL;\n                    link.classList.add('gallery-link');\n\n                    const img = document.createElement('img');\n                    img.src = hit.webformatURL;\n                    img.alt = hit.tags;\n                    img.classList.add('gallery-image');\n\n                    link.appendChild(img);\n                    item.appendChild(link);\n\n                    const info = document.createElement('div');\n                    info.classList.add('info');\n\n                    info.innerHTML = `\n                        <p class=\"info-item\"><b>Likes</b> ${hit.likes}</p>\n                        <p class=\"info-item\"><b>Views</b> ${hit.views}</p>\n                        <p class=\"info-item\"><b>Comments</b> ${hit.comments}</p>\n                        <p class=\"info-item\"><b>Downloads</b> ${hit.downloads}</p>\n                    `;\n                    item.appendChild(info);\n\n                    gallery.appendChild(item);\n                });\n\n                // SimpleLightbox'u yenile\n                const lightbox = new SimpleLightbox('.gallery-link', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                });\n                lightbox.refresh();\n\n            } catch (error) {\n                // Hata durumunda yükleme göstergesini gizle\n                loader.style.display = 'none';\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Failed to fetch images. Please try again.',\n                });\n                console.error('Error:', error);\n            }\n        }, 100); // 100ms'lik bir gecikme ekliyoruz.\n    });\n});\n"],"names":["API_KEY","BASE_URL","form","input","gallery","loader","refreshGallery","e","query","iziToast","data","hit","item","link","img","info","SimpleLightbox","error"],"mappings":"6vBAMA,MAAMA,EAAU,qCACVC,EAAW,2BAGjB,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/CA,EAAO,MAAM,QAAU,OAGvB,SAASC,GAAiB,CACtBF,EAAQ,UAAY,EACvB,CAGDF,EAAK,iBAAiB,SAAWK,GAAM,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAQL,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACK,EAAO,CACRC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACzB,CAAa,EACD,MACH,CAGDH,IAGA,WAAW,SAAY,CACnB,GAAI,CAEAD,EAAO,MAAM,QAAU,QAGvB,MAAMK,EAAO,MADI,MAAM,MAAM,GAAGT,CAAQ,QAAQD,CAAO,MAAM,mBAAmBQ,CAAK,CAAC,0DAA0D,GACpH,OAK5B,GAFAH,EAAO,MAAM,QAAU,OAEnBK,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EACjC,CAAqB,EACD,MACH,CAGDN,EAAM,MAAQ,GAGdO,EAAK,KAAK,QAAQC,GAAO,CACrB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAI,cAChBE,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAI,aACdG,EAAI,IAAMH,EAAI,KACdG,EAAI,UAAU,IAAI,eAAe,EAEjCD,EAAK,YAAYC,CAAG,EACpBF,EAAK,YAAYC,CAAI,EAErB,MAAME,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzBA,EAAK,UAAY;AAAA,4DACuBJ,EAAI,KAAK;AAAA,4DACTA,EAAI,KAAK;AAAA,+DACNA,EAAI,QAAQ;AAAA,gEACXA,EAAI,SAAS;AAAA,sBAEzDC,EAAK,YAAYG,CAAI,EAErBX,EAAQ,YAAYQ,CAAI,CAC5C,CAAiB,EAGgB,IAAII,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClC,CAAiB,EACQ,QAAO,CAEnB,OAAQC,EAAO,CAEZZ,EAAO,MAAM,QAAU,OACvBI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2CAC7B,CAAiB,EACD,QAAQ,MAAM,SAAUQ,CAAK,CAChC,CACJ,EAAE,GAAG,CACd,CAAK,CACL,CAAC"}